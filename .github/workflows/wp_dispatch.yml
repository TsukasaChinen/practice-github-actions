name: Hello WP and Next

on:
  # æ‰‹å‹•ã§ã‚‚å®Ÿè¡Œã—ãŸã„ã®ã§workflow_dispatchã‚’è¨­å®š
  workflow_dispatch:
  repository_dispatch:
    types:
      - hello_wp # WordPresså´ã®event_typeã¨åˆã‚ã›ã‚‹
jobs:
  Build:
    name: Build
    runs-on: ubuntu-latest
    steps:
      # main ãƒ–ãƒ©ãƒ³ãƒã‚’å–å¾—
      - name: Checkout
        uses: actions/checkout@v2

      # node.js ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
      - name: Setup Node
        uses: actions/setup-node@v2
        with:
          node-version: "14"

      # npm ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
      - name: Install NPM packages
        run: npm install --frozen-lockfile

      # ãƒ“ãƒ«ãƒ‰ã¨ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
      - name: Build and Export
        run: npm run build

      - name: ğŸ“‚ Sync files
        uses: SamKirkland/FTP-Deploy-Action@4.3.0
        with:
          server: sv13020.xserver.jp # FTPã®ã‚µãƒ¼ãƒãƒ¼ã‚¢ãƒ‰ãƒ¬ã‚¹
          username: xs787777 # FTPã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åå
          password: Co13*Co13mina! # FTPã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
          local-dir: ./out/ # ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸã„ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã€ã“ã®å ´åˆsrcãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¯¾è±¡ã¨ã—ã¦ã„ã‚‹
          server-dir: /home/xs787777/trylight.net/public_html/gatest/ # ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å…ˆã®ãƒªãƒ¢ãƒ¼ãƒˆãƒ‘ã‚¹
